# Discovery Output - Visual Reference

## What Users Will See

### Initial Search Response

```
ğŸ”¥ Found 20 dentist businesses in Austin, TX
Search completed in 12.5s

ğŸ“Š Quick Stats: â­ 4.2 avg | ğŸŒ 15 websites | ğŸ¯ 5 unclaimed GBPs

Results:
```
```
1. Smile Dental                | â­4.5  |  89r  | ğŸ¯      
2. Austin Family Dentistry     | â­4.8  | 156r  |         
3. Perfect Teeth               | â­3.9  |  23r  | ğŸ¯âŒğŸ“‰  
4. Downtown Dental             | â­4.6  | 201r  |         
5. Bright Smiles               | â­4.3  |  67r  |         
6. Lakeway Dental Care         | â­4.7  | 134r  | ğŸ¯      
7. Emergency Dental Now        | â­2.8  |  12r  | âŒâš ï¸ğŸ“‰  
8. North Austin Dentist        | â­4.1  |  45r  |         
9. South Congress Dental       | â­4.9  | 289r  |         
10. Westlake Dental            | â­4.4  |  78r  | ğŸ¯      
11. Mueller Dental Clinic      | â­4.2  |  56r  |         
12. Hyde Park Dentistry        | â­4.6  | 123r  |         
13. Brentwood Family Dental    | â­3.5  |   8r  | ğŸ¯âŒâš ï¸ğŸ“‰
14. Tarrytown Dental Group     | â­4.8  | 167r  |         
15. Zilker Dental Studio       | â­4.3  |  92r  |         
16. Barton Hills Dentist       | â­4.1  |  34r  | ğŸ¯      
17. Rosedale Dental Care       | â­4.5  | 101r  |         
18. Windsor Park Dental        | â­4.0  |  29r  |         
19. Montopolis Dental          | â­3.8  |  15r  | âŒğŸ“‰    
20. East Austin Dentistry      | â­4.7  | 178r  |         
```
```

Signals: ğŸ¯=Unclaimed GBP | âŒ=No Website | âš ï¸=Low Rating | ğŸ“‰=Few Reviews

ğŸ’¡ Actions:
â€¢ `audit <number>` - Analyze a business (e.g., "audit 1")
â€¢ `details <number>` - View full details
â€¢ `export` - Download as CSV

[ğŸ“¥ View Interactive List â†’](https://oneclaw.chat/lists/discovery-abc123)
```

---

### User Types: `details 3`

```
**#3: Perfect Teeth**

ğŸ“‚ Category: Dentist
â­ Rating: 3.9 (23 reviews)

Contact & Location:
ğŸŒ Website: âŒ None found
ğŸ“ Phone: (512) 555-3456
ğŸ“ Address: 456 Oak St, Austin, TX 78701

Google Business Profile:
ğŸ¯ **UNCLAIMED** (Hot Lead!)
ğŸ—ºï¸ [View on Google Maps](https://maps.google.com/...)

Lead Quality Signals:
â€¢ ğŸ¯ **Unclaimed GBP** - High value opportunity
â€¢ âŒ **No website** - Needs digital presence
â€¢ ğŸ“‰ **Few reviews** - Review generation opportunity

Actions:
â€¢ `contact 3` - Get contact script
```

---

### User Types: `audit 1`

```
ğŸ” Running full audit on Smile Dental...

[... audit runs ...]

**Website Audit: Smile Dental**
ğŸŒ https://smiledental.com

Overall Score: 72/100 ğŸŸ¨

Issues Found:
ğŸ”´ **Critical (2)**
â€¢ Not appearing in AI citations for "dentist in Austin"
â€¢ Missing schema markup for LocalBusiness

ğŸŸ¡ **Warnings (5)**
â€¢ Page speed could be improved (4.2s load time)
â€¢ No blog content for SEO
â€¢ Missing service pages for key procedures
â€¢ No FAQ schema for voice search
â€¢ Mobile usability issues detected

ğŸ“Š Category Breakdown:
â€¢ SEO: 65/100
â€¢ AI Visibility: 45/100 âš ï¸
â€¢ Local Presence: 85/100
â€¢ Technical: 75/100

ğŸ’¡ Quick Wins:
1. Add LocalBusiness schema (1 hr, high impact)
2. Create 5 service pages (2 days, high impact)
3. Optimize images (2 hrs, medium impact)

[ğŸ“„ View Full Report â†’](https://oneclaw.chat/audits/abc123)
```

---

## Why This Format Works

### 1. Information Density
**Before:** 5 businesses in ~25 lines
**After:** 20 businesses in ~25 lines
**Result:** 4x more information in same space

### 2. Signal Clarity
- ğŸ¯ = **Immediate eye-catcher** for hot leads
- Quick pattern recognition: more emojis = more opportunities
- No need to read details to identify quality

### 3. Progressive Disclosure
```
Quick List â†’ Details View â†’ Full Audit
(1 second)  (5 seconds)   (2 minutes)
```

Users can:
1. Scan entire list instantly
2. Dig into specific businesses
3. Run full audits on best prospects

### 4. Actionable
Every view has clear next steps:
- `details X` - Learn more
- `audit X` - Deep analysis
- `export` - Take data elsewhere

### 5. Mobile Friendly
- Monospace font (`code blocks`) ensures alignment
- Short lines work on small screens
- Emojis are large/visible on mobile

---

## Real Conversation Flow

**User:** `discover dentist Austin, TX`

**Bot:** [Shows 20 businesses in clean list]

**User:** `show hot leads`

**Bot:** 
```
ğŸ¯ **5 Hot Leads (Unclaimed GBPs)**

1. Smile Dental                | â­4.5  |  89r  | ğŸ¯      
3. Perfect Teeth               | â­3.9  |  23r  | ğŸ¯âŒğŸ“‰  
6. Lakeway Dental Care         | â­4.7  | 134r  | ğŸ¯      
10. Westlake Dental            | â­4.4  |  78r  | ğŸ¯      
13. Brentwood Family Dental    | â­3.5  |   8r  | ğŸ¯âŒâš ï¸ğŸ“‰

These businesses don't control their Google listings - prime opportunities!
```

**User:** `details 3`

**Bot:** [Shows detailed breakdown of Perfect Teeth]

**User:** `contact 3`

**Bot:**
```
**Contact Script for Perfect Teeth**

ğŸ“ Phone: (512) 555-3456
ğŸ¯ **Key Hook:** "I noticed your Google Business Profile is unclaimed..."

**Opening:**
"Hi, I was looking for dentists in Austin and came across Perfect Teeth. 
I noticed something that could be costing you business - your Google 
Business Profile isn't claimed yet. Mind if I explain what that means?"

**Value Points:**
â€¢ You're showing up in Google Maps but don't control the listing
â€¢ Competitors can see your reviews but you can't respond
â€¢ Missing out on Google Search features (booking, messaging, etc.)

**Next Steps:**
â€¢ Offer free claim service + optimization
â€¢ Show examples of optimized profiles
â€¢ Mention other opportunities (website, reviews)

**Close:**
"I help local dentists like you show up better in Google searches. Can we 
schedule a quick 15-minute call to discuss?"
```

---

## Technical Details

### Format Explanation
```typescript
// Each line is exactly 70 characters wide
// This ensures clean alignment in code blocks

const name = business.name.substring(0, 30).padEnd(30);
// "Smile Dental                " (30 chars)

const rating = business.rating 
  ? `â­${business.rating.toFixed(1)}`.padEnd(6) 
  : '      ';
// "â­4.5  " (6 chars)

const reviews = business.review_count 
  ? `${business.review_count}r`.padStart(5) 
  : '     ';
// " 89r  " (5 chars)

const signals = ['ğŸ¯', 'âŒ', 'âš ï¸', 'ğŸ“‰']
  .filter(shouldShow)
  .join('')
  .padEnd(8);
// "ğŸ¯      " (8 chars, emojis count as 2)

// Total: 30 + 3 + 6 + 3 + 5 + 3 + 8 = 58 chars
// Plus "1. " prefix and " | " separators = ~70 chars
```

### Color Coding (Future)
Could add ANSI colors or Discord markdown:
```
ğŸ¯ = Green (hot lead)
âš ï¸ = Yellow (warning)
âŒ = Red (missing feature)
```

### Sorting Options
Users can request:
- `sort by rating` - Highest rated first
- `sort by reviews` - Most reviewed first
- `sort by opportunity` - Best leads first (unclaimed GBP, no website)
- `filter no website` - Only businesses without sites
- `filter unclaimed` - Only unclaimed GBPs

---

## Implementation Notes

1. **Code blocks are essential** - They preserve monospace formatting
2. **Emoji width** - Count as 2 characters in most fonts
3. **Line length** - Keep under 70 chars for mobile
4. **Padding** - Use `.padEnd()` and `.padStart()` for alignment
5. **Truncation** - Long names get `...` after 27 chars

All implemented in:
- `apps/api/src/workflows/discovery.ts`
- Functions: `formatDiscoveryForChat()`, `formatBusinessDetails()`
